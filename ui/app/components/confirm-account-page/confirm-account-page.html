<div class="confirm-account-page">
  <setup-toolbar></setup-toolbar>

  <md-content layout-padding class="confirm-account-page__content">
    <md-card class="confirm-account-page__content-card">
      <md-card-content>

        <img class="confirm-account-page__logo" src="./img/logo_icon.svg" alt="Cobudget" />

        <h1 class="confirm-account-page__logo-subheader">Let's set up your account</h1>
        <form novalidate class="confirm-account-page__form" name="newUserForm" ng-submit="newUserForm.$valid && confirmAccount(formData)" ng-autodisable>

          <div class="confirm-account-page__input-container">
            <label>Email</label>
            <input disabled class="confirm-account-page__input-field" name="email" type="text" ng-model="email">
          </div>

          <div class="confirm-account-page__input-container">
            <label>Name</label>
            <input required class="confirm-account-page__input-field" required name="name" type="text" ng-model="formData.name" placeholder="your full name" autocomplete="off">
            <div ng-if="newUserForm.name.$error.required && newUserForm.$submitted" class="confirm-account-page__input-error">Name is required.</div>
          </div>

          <div class="confirm-account-page__input-container">
            <label>Password</label>
            <input class="confirm-account-page__input-field" minlength="10" required name="password" type="password" ng-pattern="/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{10,}$/" ng-model="formData.password" placeholder="create password" autocomplete="off">
            <div ng-messages="newUserForm.password.$error" multiple>
              <div ng-message="pattern" ng-class="newUserForm.$submitted ? 'confirm-account-page__input-error' : 'confirm-account-page__password-help'" >
                The password must have at least:
                <ul>
                  <li>one uppercase character</li>
                  <li>one lowercase character</li>
                  <li>one number</li>
                  <li>one special character</li>
                  <li>must be longer than 10 characters</li>
                </ul>
              </div>
              <div ng-message="required" class="confirm-account-page__input-error">Password is required.</div>
            </div>
          </div>

          <div class="confirm-account-page__input-container">
            <label>Confirm Password</label>
            <input class="confirm-account-page__input-field" required type="password" ng-model="formData.confirmPassword" placeholder="confirm password" autocomplete="off">
            <div ng-if="!newUserForm.password.$error.pattern && formData.confirmPassword.length && formData.password != formData.confirmPassword" class="confirm-account-page__input-error">Passwords don't match.</div>
          </div>

          <div class="confirm-account-page__input-container">
            <md-checkbox class="confirm-account-page__checkbox-field" name="tos" ng-model="formData.tos" name="tos" required>
              <label>By continuing, you agree to our <a href="https://greaterthan.gitbooks.io/cobudget/content/terms-of-service.html" target="_blank">Terms of Service</a> and <a href="https://greaterthan.gitbooks.io/cobudget/content/privacy-policy.html" target="_blank">Privacy Policy</a>.</label>
            </md-checkbox>
            <div ng-if="newUserForm.tos.$error.required && newUserForm.$submitted" class="confirm-account-page__input-error">You must accept before you can proceed.</div>
          </div>

          <div class="confirm-account-page__input-container">
            <md-button class="md-raised md-primary confirm-account-page__submit-btn" type="submit">next</md-button>
          </div>
        </form>
      </md-card-content>
    </md-card>
  </md-content>
</div>
